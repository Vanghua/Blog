### 1.float存储安全范围

#### 1.1 float占用空间

float使用IEEE754 32标准存储，占用32bit，即4字节。

#### 1.2 float安全范围

参考“JavaScript数值存储”这篇博客，在主流编程语言中float和double都是采用IEEE754 32位和64位标准进行存储。在JavaScript中数值都是按照IEEE754 64位标准存储，相当于c++中的double类型。根据该博客对于JavaScript数值存储安全范围的推导，可知c++中float和double的存储安全范围。
$$
[-1 + 2^{-24}, 1 - 2^{-24}]
$$
**计算可知该范围为8位数，因此安全整数是8位，安全小数是整数部分加小数部分共8位。**

注：使用IEEE754 32位标准可以表示的数不只是这8位，超过8位的可以不精确表示，但是在实际程序设计中没有什么意思，一般就认定float的表示范围就是安全范围8位。



#### 1.3 float安全范围举例：

**eg1：无法精确表示部分小数**

在c++中测试，选择输出小数点后12位，结果如下。可见IEEE754标准下进行数值存储对于部分小数是无法精确表示的。

```c++
#include<iostream>
#include<cstdio>
using namespace std;
int main() {
	float b = 0.2;
	printf("%.12f", b); // 0.200000002980
}
```

**eg2：8位之后采用IEEE754方法舍去**

在c++中测试，选择输出小数点后12位，结果如下。可见IEEE754 32位标准下进行数值存储，精度是8位，对于float类型的b，输出只能精确到12.123456。8位之后的值根据IEEE754标注进行特殊判断后舍去（不纯粹是四舍五入，可以参考IEEE754标准或计算机组成原理）

```c++
#include<iostream>
#include<cstdio>
using namespace std;
int main() {
	float b = 12.123456789;
	printf("%.12f", b); // 12.123456954956
}
```

**eg3：float进行精确运算**

在c++中测试，测试float对于小数精度计算的效果， 结果如下。在上述示例中测试了float安全存储范围的效果，可知会特殊操作舍去8位之后的值。a，b，c这三个数在8位舍去后还是0.2，0.1，0.3，因此不影响精度。如果存在精度更高的小数，float就无法精确运算。

```c++
#include<iostream>
#include<cstdio>
using namespace std;
int main() {
	float b = 0.2, a = 0.1, c = 0.3;
	cout<< (a + b == c); // 1
}
```



### 2.double安全存储范围

#### 2.1 double占用空间

double使用IEEE754 64标准存储，占用64bit，即8字节。

#### 2.2 double安全范围

参考“JavaScript数值存储”这篇博客，可知double的安全范围为：
$$
[-1 + 2^{-53}, 1 - 2^{-53}]
$$
**计算可知该范围为16位数，因此安全整数是16位，安全小数是整数部分加小数部分共16位。**



#### 2.3 double安全范围举例

**eg1：double进行精确运算**

在c++中测试，测试double对于小数精度计算的效果， 结果如下。参考上述示例中测试了float安全存储范围的效果，可知同理在使用double的情况下会特殊操作舍去16位之后的值。a，b，c这三个数在16位舍去后不再是是0.2，0.1，0.3，因此影响精度。

```c++
#include<iostream>
#include<cstdio>
using namespace std;
int main() {
	double b = 0.2, a = 0.1, c = 0.3;
	cout<< (a + b == c); // 0
}
```



### 3.int 安全存储范围

#### 3.1 int占用空间

int存储不使用IEEE754标注，int占用32bit，即4字节

#### 3.2 int安全范围

int使用的32位中，最高位是符号位。

**最大值**

> 因此int表示的最大值可知是 0111,1111,1111,1111,1111,1111,1111,1111。十进制表示是2147483647。c++表示是climits库INT_MAX。

**最小值**

int表示的最小值不是 1111,1111,1111,1111,1111,1111,1111,1111。而是 1000,0000,0000,0000,0000,0000,0000,0000。因为0有一个表示即可，不需要有-0来表示，所以用-0来表示最小值，表示-2147483648。

> 因此int表示的最小值可知是 1000,0000,0000,0000,0000,0000,0000,0000。十进制表示是-2147483648。c++表示是climits的INT_MIN。

**计算可知int的安全表示范围是10位数，保险起见在9位时考虑是否还可以使用int**



### 4.其它整型存储范围

| 数据类型                                 | 字节大小 | 数值范围                                             |
| ---------------------------------------- | -------- | ---------------------------------------------------- |
| short int (短整型）                      | 2 字节   | -32 768 〜+32 767                                    |
| unsigned short int (无符号短整型）       | 2 字节   | 0 〜+65 535                                          |
| int (整型)                               | 4 字节   | -2 147 483 648 〜+2 147 483 647                      |
| unsigned int (无符号整型）               | 4 字节   | 0 〜4 294 967 295                                    |
| long int (长整型）                       | 4 字节   | -2 147 483 648 〜+2 147 483 647                      |
| unsigned long int (无符号长整型）        | 4 字节   | 0 〜4 294 967 295                                    |
| long long int (超长整型）                | 8字节    | -9 223 372 036 854 775 808~9 223 372 036 854 775 807 |
| unsigned long long int (无符号超长整型） | 8字节    | 048 446 744 073 709 551 615                          |